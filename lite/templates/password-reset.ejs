<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RÃ©initialisation de votre mot de passe</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: #34495e; color: white; padding: 20px; text-align: center; border-radius: 8px 8px 0 0; }
        .content { background: #ecf0f1; padding: 30px; border-radius: 0 0 8px 8px; }
        .security-info { background: #e8f5e8; border: 1px solid #27ae60; padding: 15px; border-radius: 4px; margin: 20px 0; }
        .warning { background: #ffeaa7; border: 1px solid #fdcb6e; padding: 15px; border-radius: 4px; margin: 20px 0; }
        .button { display: inline-block; background: #3498db; color: white; padding: 15px 30px; text-decoration: none; border-radius: 4px; margin: 20px 0; font-weight: bold; }
        .footer { text-align: center; margin-top: 20px; font-size: 12px; color: #666; }
        .reset-code { background: white; padding: 20px; border-radius: 4px; margin: 20px 0; border-left: 4px solid #3498db; text-align: center; }
        .code { font-family: monospace; font-size: 1.5em; font-weight: bold; color: #2c3e50; letter-spacing: 2px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” RÃ©initialisation de mot de passe</h1>
        </div>
        
        <div class="content">
            <p>Bonjour,</p>
            
            <p>Nous avons reÃ§u une demande de rÃ©initialisation de mot de passe pour votre compte.</p>
            
            <% if (resetLink) { %>
            <div class="security-info">
                <h3>ğŸ”— Lien de rÃ©initialisation</h3>
                <p>Cliquez sur le bouton ci-dessous pour rÃ©initialiser votre mot de passe :</p>
                <p style="text-align: center;">
                    <a href="<%= resetLink %>" class="button">RÃ©initialiser mon mot de passe</a>
                </p>
                <p><strong>â° Ce lien expire dans <%= expirationTime || '24 heures' %>.</strong></p>
            </div>
            <% } %>
            
            <% if (resetCode) { %>
            <div class="reset-code">
                <h3>ğŸ”¢ Code de vÃ©rification</h3>
                <p>Utilisez ce code pour rÃ©initialiser votre mot de passe :</p>
                <div class="code"><%= resetCode %></div>
                <p><strong>â° Ce code expire dans <%= expirationTime || '15 minutes' %>.</strong></p>
            </div>
            <% } %>
            
            <% if (userData && userData.email) { %>
            <p><strong>Compte concernÃ© :</strong> <%= userData.email %></p>
            <% } %>
            
            <% if (userData && userData.lastLogin) { %>
            <p><strong>DerniÃ¨re connexion :</strong> <%= new Date(userData.lastLogin).toLocaleDateString('fr-FR', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }) %></p>
            <% } %>
            
            <% if (userData && userData.ipAddress) { %>
            <p><strong>Demande effectuÃ©e depuis :</strong> <%= userData.ipAddress %></p>
            <% } %>
            
            <% if (userData && userData.userAgent) { %>
            <p><strong>Navigateur :</strong> <%= userData.userAgent %></p>
            <% } %>
            
            <div class="warning">
                <h3>âš ï¸ Mesures de sÃ©curitÃ©</h3>
                <ul>
                    <li>ğŸš« <strong>Si vous n'avez pas demandÃ© cette rÃ©initialisation</strong>, ignorez ce message et contactez immÃ©diatement notre support</li>
                    <li>ğŸ”’ <strong>Ne partagez jamais</strong> ce lien ou ce code avec qui que ce soit</li>
                    <li>â° <strong>Utilisez ce lien/code rapidement</strong> car il expire bientÃ´t</li>
                    <li>ğŸ–¥ï¸ <strong>Utilisez un appareil sÃ©curisÃ©</strong> pour effectuer la rÃ©initialisation</li>
                </ul>
            </div>
            
            <h3>ğŸ“‹ Ã‰tapes suivantes</h3>
            <ol>
                <% if (resetLink) { %>
                <li>Cliquez sur le lien de rÃ©initialisation ci-dessus</li>
                <% } %>
                <% if (resetCode) { %>
                <li>Saisissez le code de vÃ©rification sur la page de rÃ©initialisation</li>
                <% } %>
                <li>CrÃ©ez un nouveau mot de passe sÃ©curisÃ©</li>
                <li>Confirmez votre nouveau mot de passe</li>
                <li>Connectez-vous avec vos nouveaux identifiants</li>
            </ol>
            
            <div class="security-info">
                <h3>ğŸ’¡ Conseils pour un mot de passe sÃ©curisÃ©</h3>
                <ul>
                    <li>âœ… Au moins 12 caractÃ¨res</li>
                    <li>âœ… MÃ©lange de majuscules et minuscules</li>
                    <li>âœ… Chiffres et caractÃ¨res spÃ©ciaux</li>
                    <li>âœ… Unique et non utilisÃ© ailleurs</li>
                    <li>âœ… Ã‰vitez les informations personnelles</li>
                </ul>
            </div>
            
            <% if (supportContact) { %>
            <h3>ğŸ†˜ Besoin d'aide ?</h3>
            <p>Si vous rencontrez des difficultÃ©s, contactez notre Ã©quipe support :</p>
            <ul>
                <% if (supportContact.email) { %>
                <li>ğŸ“§ Email : <a href="mailto:<%= supportContact.email %>"><%= supportContact.email %></a></li>
                <% } %>
                <% if (supportContact.phone) { %>
                <li>ğŸ“ TÃ©lÃ©phone : <%= supportContact.phone %></li>
                <% } %>
                <% if (supportContact.hours) { %>
                <li>ğŸ•’ Horaires : <%= supportContact.hours %></li>
                <% } %>
            </ul>
            <% } %>
            
            <p>Pour votre sÃ©curitÃ©, ce message a Ã©tÃ© envoyÃ© automatiquement. Si vous n'avez pas demandÃ© cette rÃ©initialisation, veuillez nous contacter immÃ©diatement.</p>
            
            <p>Cordialement,<br>
            <strong>L'Ã©quipe SÃ©curitÃ©</strong></p>
        </div>
        
        <div class="footer">
            <p><strong>RÃ©initialisation de mot de passe - Message automatique</strong></p>
            <p>Â© <%= new Date().getFullYear() %> - SystÃ¨me de sÃ©curitÃ© automatique</p>
            <p>Ce message a Ã©tÃ© envoyÃ© automatiquement, merci de ne pas rÃ©pondre directement.</p>
            <% if (userData && userData.requestId) { %>
            <p>ID de demande : <%= userData.requestId %></p>
            <% } %>
        </div>
    </div>
</body>
</html>