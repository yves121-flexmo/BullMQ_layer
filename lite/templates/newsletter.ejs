<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter <%= month || 'du mois' %></title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
        .content { background: white; padding: 30px; border: 1px solid #ddd; }
        .article { margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #eee; }
        .article:last-child { border-bottom: none; }
        .article h3 { color: #667eea; margin-top: 0; }
        .cta { background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 4px; display: inline-block; margin: 10px 0; }
        .footer { background: #f8f9fa; padding: 20px; text-align: center; font-size: 12px; color: #666; border-radius: 0 0 8px 8px; }
        .stats { background: #e3f2fd; padding: 15px; border-radius: 4px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üì∞ Newsletter <%= month || 'du mois' %></h1>
            <% if (recipient && recipient.name) { %>
            <p>Bonjour <%= recipient.name %> !</p>
            <% } %>
        </div>
        
        <div class="content">
            <% if (newsletterData && newsletterData.intro) { %>
            <p><%= newsletterData.intro %></p>
            <% } %>
            
            <% if (newsletterData && newsletterData.articles && newsletterData.articles.length > 0) { %>
            <h2>üìö Articles du mois</h2>
            <% newsletterData.articles.forEach(function(article) { %>
            <div class="article">
                <h3><%= article.title %></h3>
                <p><%= article.summary %></p>
                <% if (article.readMoreUrl) { %>
                <a href="<%= article.readMoreUrl %>" class="cta">Lire la suite</a>
                <% } %>
            </div>
            <% }); %>
            <% } %>
            
            <% if (newsletterData && newsletterData.stats) { %>
            <div class="stats">
                <h3>üìä Statistiques du mois</h3>
                <% if (newsletterData.stats.newUsers) { %>
                <p><strong><%= newsletterData.stats.newUsers %></strong> nouveaux utilisateurs</p>
                <% } %>
                <% if (newsletterData.stats.activeProjects) { %>
                <p><strong><%= newsletterData.stats.activeProjects %></strong> projets actifs</p>
                <% } %>
                <% if (newsletterData.stats.completedTasks) { %>
                <p><strong><%= newsletterData.stats.completedTasks %></strong> t√¢ches compl√©t√©es</p>
                <% } %>
            </div>
            <% } %>
            
            <% if (newsletterData && newsletterData.events && newsletterData.events.length > 0) { %>
            <h2>üìÖ √âv√©nements √† venir</h2>
            <% newsletterData.events.forEach(function(event) { %>
            <div class="article">
                <h3><%= event.title %></h3>
                <p><strong>üìÖ <%= event.date %></strong></p>
                <p><%= event.description %></p>
                <% if (event.registerUrl) { %>
                <a href="<%= event.registerUrl %>" class="cta">S'inscrire</a>
                <% } %>
            </div>
            <% }); %>
            <% } %>
            
            <% if (newsletterData && newsletterData.tips && newsletterData.tips.length > 0) { %>
            <h2>üí° Conseils du mois</h2>
            <ul>
            <% newsletterData.tips.forEach(function(tip) { %>
                <li><%= tip %></li>
            <% }); %>
            </ul>
            <% } %>
            
            <% if (newsletterData && newsletterData.teamSpotlight) { %>
            <div class="article">
                <h2>‚≠ê √âquipe √† l'honneur</h2>
                <h3><%= newsletterData.teamSpotlight.teamName %></h3>
                <p><%= newsletterData.teamSpotlight.achievement %></p>
                <% if (newsletterData.teamSpotlight.members && newsletterData.teamSpotlight.members.length > 0) { %>
                <p><strong>Membres :</strong> <%= newsletterData.teamSpotlight.members.join(', ') %></p>
                <% } %>
            </div>
            <% } %>
            
            <% if (newsletterData && newsletterData.callToAction) { %>
            <div style="text-align: center; margin: 30px 0;">
                <h3><%= newsletterData.callToAction.title %></h3>
                <p><%= newsletterData.callToAction.description %></p>
                <% if (newsletterData.callToAction.url) { %>
                <a href="<%= newsletterData.callToAction.url %>" class="cta"><%= newsletterData.callToAction.buttonText || 'En savoir plus' %></a>
                <% } %>
            </div>
            <% } %>
        </div>
        
        <div class="footer">
            <p><strong>Newsletter <%= month || 'mensuelle' %></strong></p>
            <p>¬© <%= new Date().getFullYear() %> - L'√©quipe Flexmo</p>
            <% if (recipient && recipient.email) { %>
            <p>Envoy√© √† : <%= recipient.email %></p>
            <% } %>
            <% if (newsletterData && newsletterData.unsubscribeUrl) { %>
            <p><a href="<%= newsletterData.unsubscribeUrl %>">Se d√©sabonner</a> | <a href="<%= newsletterData.webVersionUrl || '#' %>">Version web</a></p>
            <% } %>
        </div>
    </div>
</body>
</html>